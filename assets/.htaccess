<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

RewriteRule (.*)/index_html$ $1/ [R=301]
RewriteRule ^.*docs/mailList.html /help/mailing-list/ [R=301,L]
RewriteRule ^docs/vignettes.html$ /help/package-vignettes/ [R=301,L]
RewriteRule ^docs/postingGuide.html /help/mailing-list/posting-guide/ [R=301,L]
RewriteRule ^docs/gettingHelp.html /help/ [R=301,L]

## FIXME: this doesn't capture the actual reports
RewriteRule ^docs/techreports(.*)$ /about/publications/tech-reports$1

## workflows
RewriteRule ^docs/workflows/oligoarrays(.*)$ /help/workflows/oligo-arrays$1 [R=301]
RewriteRule ^docs/workflows/htpsequencing(.*)$ /help/workflows/high-throughput-sequencing$1 [R=301]
RewriteRule ^docs/workflows/accessingAnnotData(.*)$ /help/workflows/annotation-data$1 [R=301]
RewriteRule ^docs/workflows/flowoverview(.*)$ /help/workflows/flow-cytometry$1 [R=301]

## mirrors
RewriteRule ^download/mirrors/mirror-howto.html$ /about/mirrors/mirror-how-to/ [R=301] 
RewriteRule ^download/mirrors(.*)$ /about/mirrors$1 [R=301] 

## overview
RewriteRule ^overview/coredevs.*$ /about/core-team/ [R=301]
RewriteRule ^overview/related.*$ /about/related-projects/ [R=301]
RewriteRule ^overview/advisoryboard.*$ /about/advisory-board/ [R=301]
RewriteRule ^overview(.*)$ /about$1 [R=301]

RewriteRule ^GettingStarted.*$ / [R=301]


RewriteRule ^workshops(.*)$ /help/course-materials$1 [R=301]

RewriteRule ^pub/biocases/websupp(.*)$ /help/books/bioconductor-case-studies/web-supplement$1 [R=301]
RewriteRule ^pub/biocases(.*)$ /help/books/bioconductor-case-studies$1 [R=301]

RewriteRule ^pub/RBioinf/websupp(.*)$ /help/books/r-programming-for-bioinformatics/web-supplement$1 [R=301]
RewriteRule ^pub/RBioinf(.*)$ /help/books/r-programming-for-bioinformatics$1 [R=301]


RewriteRule ^pub(.*)$ /about/publications/$1 [R=301]

RewriteRule ^docs/mogr(.*)$ /help/books/bioinformatics-and-computational-biology-solutions$1 [R=301]
RewriteRule ^mogr(.*)$ /help/books/bioinformatics-and-computational-biology-solutions$1 [R=301]

RewriteCond %{REQUEST_FILENAME} (.*)\.html$
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %1 -d
RewriteRule ^.*$ %1/ [R=301]

RewriteRule ^docs/workflows/?$ /help/workflows/ [R=301]
RewriteRule ^docs/?$ /help/ [R=301]
RewriteRule ^docs/install.*$ /install/ [R=301]
</IfModule>
